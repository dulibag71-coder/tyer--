<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Golf AI | PRO ì—…ê·¸ë ˆì´ë“œ</title>
    <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@400;500;600;700;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <style>
        /* Payment Specific Styles */
        .pay-hero {
            text-align: center;
            padding: 2rem 1rem;
        }

        .pay-hero h1 {
            font-size: 2rem;
            margin-bottom: 0.5rem;
            color: #fff;
        }

        .pay-hero p {
            color: var(--text-muted);
            line-height: 1.5;
        }

        .pay-tags {
            margin-top: 1rem;
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .pay-tag {
            background: rgba(56, 189, 248, 0.1);
            color: var(--primary);
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .plan-card {
            background: linear-gradient(145deg, rgba(30, 41, 59, 0.8), rgba(15, 23, 42, 0.9));
            border: 2px solid var(--primary);
            box-shadow: 0 0 30px rgba(56, 189, 248, 0.15);
            margin: 1rem 0;
            position: relative;
            overflow: hidden;
        }

        .plan-badge {
            position: absolute;
            top: 0;
            right: 0;
            background: var(--primary);
            color: #fff;
            padding: 0.3rem 1rem;
            border-bottom-left-radius: 12px;
            font-weight: 700;
            font-size: 0.8rem;
        }

        .feature-list {
            list-style: none;
            margin: 1.5rem 0;
            text-align: left;
        }

        .feature-list li {
            margin-bottom: 0.8rem;
            display: flex;
            align-items: center;
            gap: 10px;
            color: #e2e8f0;
        }

        .bank-box {
            background: rgba(255, 255, 255, 0.05);
            border: 1px dashed var(--text-muted);
            border-radius: 12px;
            padding: 1.5rem;
            margin: 2rem 0;
            text-align: left;
        }

        .bank-info-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
            font-size: 0.95rem;
        }

        .bank-info-label {
            color: var(--text-muted);
        }

        .bank-info-val {
            color: #fff;
            font-weight: 600;
            text-align: right;
            word-break: break-all;
        }

        .copy-btn {
            background: transparent;
            border: 1px solid var(--text-muted);
            color: var(--text-muted);
            padding: 0.2rem 0.6rem;
            border-radius: 4px;
            font-size: 0.7rem;
            cursor: pointer;
            margin-left: 5px;
        }

        /* Modal */
        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
        }

        .modal-overlay.active {
            opacity: 1;
            pointer-events: auto;
        }

        .modal-content {
            background: #1e293b;
            padding: 2rem;
            border-radius: 16px;
            width: 90%;
            max-width: 400px;
            border: 1px solid var(--border-soft);
        }
    </style>
</head>

<body>
    <div class="app-container" style="flex-direction: column; overflow-y: auto;">

        <!-- Navbar -->
        <div style="padding: 1.5rem; display: flex; justify-content: space-between; align-items: center;">
            <div class="brand" style="font-size: 1.2rem; margin:0;" onclick="location.href='index.html'">
                GOLF AI<div class="brand-dot"></div>
            </div>
            <div style="font-size: 0.9rem; color: var(--text-muted); cursor: pointer;" onclick="history.back()">
                ë‹«ê¸° âœ•
            </div>
        </div>

        <main class="main-content" style="padding-top: 0; height: auto;">

            <!-- 1. Hero -->
            <section class="pay-hero">
                <h1>PRO ë©¤ë²„ì‹­ ì‹ ì²­</h1>
                <p>ê³„ì¢Œì´ì²´ë¡œ ê°„í¸í•˜ê²Œ ê²°ì œí•˜ê³ <br>AI ê³¨í”„ ì½”ì¹˜ì˜ ëª¨ë“  ê¸°ëŠ¥ì„ í•´ì œí•˜ì„¸ìš”.</p>
                <div class="pay-tags">
                    <div class="pay-tag">âœ¨ ë¯¸ì„±ë…„ì OK</div>
                    <div class="pay-tag">ğŸš« ìë™ê²°ì œ ì—†ìŒ</div>
                    <div class="pay-tag">âœ… ì–¸ì œë“  í•´ì§€ ê°€ëŠ¥</div>
                </div>
            </section>

            <!-- 2. Plan Card -->
            <div class="card plan-card">
                <div class="plan-badge">BEST CHOICE</div>
                <h2 style="font-size: 1.8rem; margin-bottom: 0.5rem;">PRO Plan</h2>
                <div style="font-size: 2rem; font-weight: 800; color: var(--primary);">
                    9,900ì› <span style="font-size: 1rem; color: var(--text-muted); font-weight: 400;">/ ì›”</span>
                </div>
                <ul class="feature-list">
                    <li>ğŸ”“ <b>Level 1 ~ 10</b> ì „ì²´ ë ˆìŠ¨ í•´ê¸ˆ</li>
                    <li>ğŸ¤– <b>AI ì½”ì¹˜</b> ë¬´ì œí•œ ì§ˆë¬¸ ê°€ëŠ¥</li>
                    <li>ğŸ“Š <b>ì •ë°€ ìŠ¤ìœ™ ë¦¬í¬íŠ¸</b> (ë°¸ëŸ°ìŠ¤, ê¶¤ë„ ë¶„ì„)</li>
                    <li>ğŸ“ˆ <b>ì„±ì¥ ë°ì´í„°</b> ë…¸ì…˜ ìë™ ì—°ë™</li>
                </ul>
            </div>

            <!-- 3. Payment Info -->
            <div class="bank-box">
                <h3 style="margin-bottom: 1rem; color: #fff; font-size: 1.1rem;">ğŸ“¢ ê²°ì œ ì•ˆë‚´ (ê³„ì¢Œì´ì²´)</h3>
                <p style="font-size: 0.9rem; color: var(--text-muted); margin-bottom: 1.5rem;">
                    ì¹´ì¹´ì˜¤ë±…í¬ mini ë˜ëŠ” ì¼ë°˜ ì€í–‰ ì•±ì„ ì‚¬ìš©í•˜ì—¬<br>ì•„ë˜ ê³„ì¢Œë¡œ ì •í™•í•œ ê¸ˆì•¡ì„ ì…ê¸ˆí•´ì£¼ì„¸ìš”.
                </p>

                <div class="bank-info-row">
                    <span class="bank-info-label">ì€í–‰</span>
                    <span class="bank-info-val">ì¹´ì¹´ì˜¤ë±…í¬ (3333)</span>
                </div>
                <div class="bank-info-row">
                    <span class="bank-info-label">ê³„ì¢Œë²ˆí˜¸</span>
                    <span class="bank-info-val">
                        3333-XX-XXXXXX
                        <button class="copy-btn" onclick="copyAccount()">ë³µì‚¬</button>
                    </span>
                </div>
                <div class="bank-info-row">
                    <span class="bank-info-label">ì˜ˆê¸ˆì£¼</span>
                    <span class="bank-info-val">ë°•ë‘ë¦¬7777034553512</span>
                </div>
                <div class="bank-info-row"
                    style="margin-top: 1rem; padding-top: 1rem; border-top: 1px dashed rgba(255,255,255,0.1);">
                    <span class="bank-info-label">ì…ê¸ˆì•¡</span>
                    <span class="bank-info-val" style="color: var(--primary);">9,900ì›</span>
                </div>

                <div
                    style="margin-top: 1.5rem; background: rgba(248, 113, 113, 0.1); padding: 1rem; border-radius: 8px;">
                    <strong style="color: #f87171; display: block; margin-bottom: 0.5rem;">âš ï¸ ì£¼ì˜ì‚¬í•­</strong>
                    <ul style="font-size: 0.85rem; color: #cbd5e1; padding-left: 1.2rem; line-height: 1.6;">
                        <li>ê°€ì…í•˜ì‹  <b>ì‚¬ìš©ì ì´ë¦„</b>ê³¼ ë™ì¼í•˜ê²Œ ì…ê¸ˆí•´ì£¼ì„¸ìš”.</li>
                        <li>ì…ê¸ˆ í›„ ë°˜ë“œì‹œ ì•„ë˜ <b>[ì…ê¸ˆ ì™„ë£Œ]</b> ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”.</li>
                    </ul>
                </div>
            </div>

            <!-- 4. Action Button -->
            <button class="btn-primary" onclick="openModal()" style="font-size: 1.1rem; padding: 1.2rem;">
                ğŸš€ ì…ê¸ˆ ì™„ë£Œí–ˆì–´ìš” (ì‹ ì²­í•˜ê¸°)
            </button>

            <!-- 5. Footer -->
            <footer
                style="margin-top: 3rem; text-align: center; color: var(--text-muted); font-size: 0.8rem; line-height: 1.6;">
                <p>ì…ê¸ˆ í™•ì¸ì€ ìµœëŒ€ 24ì‹œê°„ ì´ë‚´ ì²˜ë¦¬ë©ë‹ˆë‹¤.</p>
                <p>í™•ì¸ í›„ PRO ê¸°ëŠ¥ì´ ìë™ìœ¼ë¡œ í™œì„±í™”ë©ë‹ˆë‹¤.</p>
                <p style="margin-top: 1rem;">ë¬¸ì˜: help@golfai.com</p>
            </footer>

        </main>
    </div>

    <!-- Payment Confirm Modal -->
    <div class="modal-overlay" id="payment-modal">
        <div class="modal-content">
            <h3 style="margin-bottom: 0.5rem; color: #fff;">ì…ê¸ˆ í™•ì¸ ìš”ì²­</h3>
            <p style="color: var(--text-muted); margin-bottom: 1.5rem; font-size: 0.9rem;">
                ìš´ì˜ìê°€ ë¹ ë¥´ê²Œ í™•ì¸í•  ìˆ˜ ìˆë„ë¡<br>ì…ê¸ˆ ì •ë³´ë¥¼ ì •í™•íˆ ì…ë ¥í•´ì£¼ì„¸ìš”.
            </p>

            <label style="display: block; color: #cbd5e1; margin-bottom: 0.5rem; font-size: 0.9rem;">ì‹¤ì œ ì…ê¸ˆìëª…</label>
            <input type="text" id="depositor-name" class="input-pure" placeholder="ì˜ˆ: í™ê¸¸ë™">

            <label style="display: block; color: #cbd5e1; margin-bottom: 0.5rem; font-size: 0.9rem;">ì´ë©”ì¼ (ìŠ¹ì¸
                ì•Œë¦¼ìš©)</label>
            <input type="email" id="user-email" class="input-pure" placeholder="example@email.com">

            <div style="display: flex; gap: 0.5rem;">
                <button class="btn-primary" style="background: var(--card-border); color: #cbd5e1;"
                    onclick="closeModal()">ì·¨ì†Œ</button>
                <button class="btn-primary" onclick="submitPayment()">ì‹ ì²­ ì™„ë£Œ</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
    <script>
        function copyAccount() {
            navigator.clipboard.writeText("3333-XX-XXXXXX");
            alert("ê³„ì¢Œë²ˆí˜¸ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!");
        }

        function openModal() {
            document.getElementById('payment-modal').classList.add('active');

            // Auto-fill if user logged in
            const storedUser = localStorage.getItem('golfUser');
            if (storedUser) {
                const u = JSON.parse(storedUser);
                if (document.getElementById('depositor-name').value === '') {
                    document.getElementById('depositor-name').value = u.name;
                }
            }
        }

        function closeModal() {
            document.getElementById('payment-modal').classList.remove('active');
        }

        async function submitPayment() {
            const depositor = document.getElementById('depositor-name').value.trim();
            const email = document.getElementById('user-email').value.trim();
            const btn = document.querySelector('#payment-modal .btn-primary:last-child');

            if (!depositor || !email) {
                alert("ì…ê¸ˆìëª…ê³¼ ì´ë©”ì¼ì„ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.");
                return;
            }

            const storedUser = localStorage.getItem('golfUser');
            if (!storedUser) {
                alert("ë¡œê·¸ì¸ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤. ë‹¤ì‹œ ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”.");
                location.href = 'index.html';
                return;
            }
            const user = JSON.parse(storedUser);

            btn.disabled = true;
            btn.innerText = "ì „ì†¡ ì¤‘...";

            try {
                // Call Server API
                const res = await fetch(`${API_BASE}/payment`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        userId: user.id || user.object,
                        userName: user.name,
                        depositor: depositor,
                        email: email,
                        plan: 'PRO',
                        amount: 9900
                    })
                });

                if (!res.ok) throw new Error("ì„œë²„ ì „ì†¡ ì‹¤íŒ¨");

                alert("âœ… ì‹ ì²­ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!\nìš´ì˜ì í™•ì¸ í›„(ìµœëŒ€ 24ì‹œê°„) ìŠ¹ì¸ë©ë‹ˆë‹¤.");
                closeModal();
                location.href = 'dashboard.html';

            } catch (err) {
                alert("ì˜¤ë¥˜: " + err.message);
                btn.disabled = false;
                btn.innerText = "ì‹ ì²­ ì™„ë£Œ";
            }
        }
    </script>
</body>

</html>